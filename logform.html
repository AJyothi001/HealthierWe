<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>HTML5 Login Form with validation Example</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" href="style2.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div id="login-form-wrap">
  <h2 class="text-uppercase">Login form</h2>
  <div id="login-form">
    <p>
    <input type="text" id="email" name="email" placeholder="email" required><i class="validation"><span></span><span></span></i>
    </p>
    <p>
    <input type="password" id="password" name="password" placeholder="Password" required><i class="validation"><span></span><span></span></i>
    </p>
    <p>
      <button id="login" value="Login" class="login" name="login">Login</button>
    </p>
  </div>
  <div id="create-account-wrap">
    <p>Not a member? <a href="regform.html">Create Account</a><p>
  </div><!--create-account-wrap-->
</div><!--login-form-wrap-->
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword,signInWithEmailAndPassword, signOut} from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
        import { getDatabase,set,ref, update} from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";
    const firebaseConfig = {
    apiKey: "AIzaSyCgvip59IbwKvULhZJV5IE19GbhHjUSky4",
    authDomain: "healthcare-e6098.firebaseapp.com",
    projectId: "healthcare-e6098",
    storageBucket: "healthcare-e6098.appspot.com",
    messagingSenderId: "165265517675",
    appId: "1:165265517675:web:38e94cd306ab3d7810552e",
    measurementId: "G-CCG84XY1SN"
  };
      

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const database = getDatabase(app);
  login.addEventListener('click',(e) =>{
      var email = document.getElementById('email').value;
      var password = document.getElementById('password').value;
      signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    console.log(user);
  })
  .then(() => {
  // Data saved successfully!
  alert('Login Successful...Welcome back to DIGIHEALTH');
  window.location.href="index.html";
})
.catch((error) => {
  // The write failed...
  alert(error);
});

    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    alert(errorMessage);
  });

  signOut(auth).then(() => {
  // Sign-out successful.
}).catch((error) => {
  // An error happened.
});
</script>
</body>
</html>